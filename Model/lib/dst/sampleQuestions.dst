[templateStart] 
name=sampleMetadataQuestion
anchorFile=MicrobiomeModel/Model/lib/wdk/model/questions/microbiomeSampleQuestions.xml
prop=datasetName
prop=datasetDisplayName
prop=datasetShortDisplayName
 >templateTextStart<
    <question name="SamplesByMetadata_${datasetName}"
              shortDisplayName="${datasetShortDisplayName} (smpl details)"
              queryRef="sampleIds.SampleByMetadata"
              displayName="${datasetDisplayName} Sample Details"
              recordClassRef="SampleRecordClasses.MicrobiomeSampleRecordClass"
              includeProjects="MicrobiomeDB">
      <paramRef ref="sampleParams.metadata_datasets" queryRef="samplesVQ.MicrobiomeDatasets_${datasetName}" visible="false"/>
        <summary>
          Find Microbiomic Samples based on Sample details.
        </summary> 
        <description> 
        <![CDATA[ 
          Find microbiome samples based on sample characteristics
        ]]> 
       </description> 
    </question>
>templateTextEnd<

[templateStart] 
name=sampleMetadataDatasetsParamQuery
anchorFile=MicrobiomeModel/Model/lib/wdk/model/questions/params/microbiomeSampleParams.xml
prop=datasetName
 >templateTextStart<
       <sqlQuery name="MicrobiomeDatasets_${datasetName}">
             <column name="internal"/>
             <column name="term"/>
             <column name="display"/>
          <sql>
             select distinct dsp.name AS internal, dsp.dataset_presenter_id as term,
                    display_name AS display
             from apidbTuning.DatasetPresenter dsp
             where dsp.name = '${datasetName}'
          </sql>
        </sqlQuery>
>templateTextEnd<
